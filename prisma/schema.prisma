// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  // for local development
  url      = env("DATABASE_URL")
  // for Vercel
  // url       = env("POSTGRES_PRISMA_URL")
  // directUrl = env("POSTGRES_URL_NON_POOLING")
}


// Role or privilege of an account.

enum AccountPrivilege {
  USER
  ADMINISTRATOR
}


//  Stock status of a merchandise.

enum MerchStockStatus {
  ON_STOCK
  SOLD
  RECALLED
}


// Tags that categorizes a merchandise.

enum MerchTag {
  COLLECTABLE
  ELECTRONIC
  FICTIONAL
  FURNITURE
  HYGIENE_EQUIPMENT
  KITCHENWARE
  SCHOOL_SUPPLY
  SPORT_EQUIPMENT
}


//  How new is a merchandise.

enum MerchCondition {
  NEW
  EXCELLENT
  GOOD
  FAIR
  POOR
}


//  Main material that a merchandise is made of.

enum MerchMaterial {
  ALUMINUM
  INTANGIBLE
  IRON
  TITANIUM
  PAPER
  PLASTIC
  WOOD
  OTHER
}


//  Stores account and user information.

model Account {
  AccountID     Int               @id @unique @default(autoincrement())
  Privilege     AccountPrivilege              @default(USER)
  EmailAddress  String                @unique
  Password      String
  FirstName     String
  MiddleName    String
  LastName      String

  merch         Merch[]
}


//  Stores merchandise information. There is one to many correspondence between Account and Merch.

model Merch {
  MerchID       Int               @id @unique @default(autoincrement())
  AccountID     Int
  PostTime      DateTime                      @default(now())
  StockStatus   MerchStockStatus
  Price         Float
  Name          String
  Description   String
  Length        Float
  Width         Float
  Height        Float
  Mass          Float
  Material      MerchMaterial
  Condition     MerchCondition

  seller        Account           @relation(fields: [AccountID], references: [AccountID])
}

enum Role {
  USER
  ADMIN
}

model User {
  id       Int    @id @default(autoincrement())
  email    String @unique
  password String
  role     Role   @default(USER)
}

enum Condition {
  excellent
  good
  fair
  poor
}

model Stuff {
  id        Int       @id @default(autoincrement())
  name      String
  quantity  Int
  condition Condition @default(good)
  owner     String
}
